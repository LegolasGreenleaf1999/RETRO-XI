<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Edit Profile</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

<style>
:root {
  --primary: #13ae47;
  --bg-light: #f6f8f6;
  --bg-dark: #ffffff;
  --text-dark: #1c1c1c;
  --text-muted: #6b7280;
  --card-bg: #ffffff;
  --border-light: #e5e7eb;
}

body {
  font-family: 'Lexend', sans-serif;
  background-color: var(--bg-light);
  color: var(--text-dark);
}

/* Converted from first theme */
.bg-dark-theme {
  background-color: var(--card-bg);
  border: 1px solid var(--border-light);
}

/* Unified primary button */
.primary-btn {
  background-color: var(--primary);
  color: #ffffff;
  font-weight: 600;
  border-radius: 6px;
  border: none;
  transition: background-color 0.2s ease;
}

.primary-btn:hover {
  background-color: #109a3f;
}
</style>

</head>

<body class="bg-dark-theme">

<div class="container py-5">

    <h3 class="text-dark fw-bold mb-4">
        <span class="material-symbols-outlined me-2 align-middle text-warning">edit</span>
        Edit Your Profile
    </h3>

    {% if messages %}
  {% for message in messages %}
    {% if 'admin' not in message.tags %}
      <div class="alert alert-{{ message.tags }}">
        {{ message }}
      </div>
    {% endif %}
  {% endfor %}
{% endif %}

    <form method="POST" enctype="multipart/form-data" class="bg-dark p-4 rounded border border-secondary">
        {% csrf_token %}

        <div class="row gy-3 text-white">

            <!-- Name -->
            <div class="col-md-6">
                <label class="form-label text-light">Full Name</label>
                <input type="text" name="first_name" value="{{ user.first_name }}" class="form-control bg-transparent text-white border-secondary">
            </div>

            <!-- Phone -->                  
            <div class="col-md-6">
                <label class="form-label text-light">Phone Number</label>
                <input type="text" name="phone" value="{{ profile.phone }}" class="form-control bg-transparent text-white border-secondary">
            </div>

            <!-- Profile Picture -->
            <div class="col-12">
                <label class="form-label text-light">Profile Image</label>
                <input type="file" name="profile_image" class="form-control bg-transparent text-white border-secondary">

                {% if profile.profile_image %}
                <small class="text-white-50">
                    Current Photo:  
                    <img src="{{ profile.profile_image.url }}" class="img-thumbnail ms-2" style="width:80px;height:80px;">
                </small>
                {% endif %}
            </div>
        </div>

        <div class="mt-4 d-flex gap-3">
            <button class="btn primary-btn px-4">Save Changes</button>

            <a href="{% url 'profile' %}" class="btn btn-outline-light px-4">
                Cancel
            </a>
        </div>
    </form>

</div>

</body>
</html>