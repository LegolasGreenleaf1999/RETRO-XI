{% extends "user/base.html" %}
{% load static %}
{% block extra_css %}
<style>
.avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
} 
.category-card {
  aspect-ratio: 16 / 9;
  overflow: hidden;
}
.category-bg {
  position: absolute;
  inset: 0;                 
  width: 100%;
  height: 100%;
  object-fit: cover;        
}
.category-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(0,0,0,0.6),
    rgba(0,0,0,0.1)
  );
}
.row {
  padding-left: 12px;
  padding-right: 12px;
}
.brand-col {
  flex: 0 0 auto;
  width: 200px;
  height: 140px;
  display: flex;
  align-items: center;
  justify-content: center;

  background: #fff;
  border: 3px solid #000;  
  border-radius: 12px; 
  padding: 12px;
}
.brand-logo {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
  padding: 14px;                 
  background: #f4f4f4;           
  border-radius: 6px;
  filter: none;  
}
</style>
{% endblock %}
{% block content %}

          <main class="mt-4 mt-md-5 mb-5">
          <!-- HERO -->
          <section class="mb-5">
            <div
              class="hero-section d-flex flex-column justify-content-center align-items-center text-center p-3 p-md-4"
              style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuD6RZBfqkSyXVdzvDA0_TVAZbcM5XbrU7x_r2eXdUWoesN-MQjleqi89YrT8dTmBG5guIpBwO0DECBBMt0ERHZd-_eCUMBdTesS-Kyt2NGMy3hooTfA9A9GlJzDhCRmaD4cyGf8iVPK8UHAn2SpSh5TsoFX3AdJ5KjuCfA3jWMu13wIV9Y6oFr1yO6MrJ357f12SO2kDff6pSPeok5-k2Rl-kSBoGhHhJRzL5qauLm8100JbOL3sRPSkKUrjJJddqVzNUwA-u4MF70x');
              background-size: cover;
              background-position: center;
              background-repeat: no-repeat;"
            >
              <div class="hero-overlay"></div>
              <div class="hero-content">
                <div class="mb-3">
                  <h1 class="fw-black display-5 mb-3 text-white">
                    Where Football Heritage Lives On
                  </h1>
                  <p class="text-white-50 small small-md fs-6 mx-auto" style="max-width: 600px;">
                    Discover timeless classics and relive the greatest moments in
                    football history with our curated collection of authentic vintage
                    jerseys.
                  </p>
                </div>
                <a class="btn btn-primary-custom px-4 py-2 fw-bold text-white" href="{%url 'productlist'%}">
                  Explore Jerseys
                </a>
              </div>
            </div>
          </section> 
           <!-- FEATURED JERSEYS -->
          <section class="container my-5">
            <h2 class="h5 fw-bold px-2 mb-3 text-muted">Featured Jerseys</h2>
            <div class="no-scrollbar overflow-auto">
              <div class="row g-4">
               

  {% for product in featured_products %}
  <div class="col-6 col-md-4 col-xl-3">
    <div class="card product-card h-100 shadow-sm position-relative">

      <img src="{{ product.main_img.url }}"
           class="card-img-top"
           alt="{{ product.team }}">

      <div class="card-body">
        <small class="text-muted fw-semibold">
          {{ product.season }}
        </small>

        <h6 class="fw-bold mt-1">
          {{ product.team }}
        </h6>

        {% with variant=product.variants.all.0 %}
  {% if variant %}
    <div class="d-flex justify-content-between align-items-center mt-2">
      <span class="fw-bold text-primary-custom">
        Rs. {{ product.min_price }}
      </span>
    </div>
  {% else %}
    <span class="text-muted">Unavailable</span>
  {% endif %}
{% endwith %}

        <div class="d-flex gap-2 mt-3">
          <a href="{% url 'productdetail' product.slug product.uuid %}"
             class="btn btn-outline-secondary btn-sm w-100">
             View
          </a>

          {% with variant=product.first_available_variant %}
  {% if variant %}
    <button type="button" class="btn btn-success btn-sm w-100 add-to-cart-btn" data-url="{% url 'add_to_cart' variant.id %}">
      Add to Cart
    </button>
  {% else %}
    <button class="btn btn-secondary btn-sm w-100" disabled>
      Unavailable
    </button>
  {% endif %}
{% endwith %}

        </div>
      </div>

    </div>
  </div>
  {% endfor %}
              </div>
            </div>
          </section>


          <!-- SHOP BY CATEGORY -->
          <section class="container my-5">
            <h2 class="h5 fw-bold text-center mb-3 text-muted">Shop by Category</h2>
            <div class="row g-4 justify-content-center">
              <!-- Category 1 -->
              <div class="col-sm-6 col-md-3">
                <a href="{% url 'productlist' %}?category=club" class="text-decoration-none text-white">
                  <div class="aspect-video category-card rounded-3 position-relative">   
                    <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuBVSS4OYakfNwY89DsV7FcEYZmAcH9-ucZQlXPqn6yuYT6FzyPEX7xgB4KmBeVvX9PHZEq8qIRpTZrdRnqCN9lnGNhsxd5BmsgtnkmMhVrkzlsIW4S1ZsrH_TAdSsIlxJGXupuMR4V7ekQDCRzOrTVsYoxgLHzfI1Vh1D1oIsAzqY-VcN7Bnx33xh3pvhfPgxQHFFH6eJ73ITSXYUx2k066mZsqHjn3nBdIg1Blui1mesWp0pSf7lQj3wGgrdHRjYX4oozdFZLF3o-D"
         class="category-bg"
         alt="Clubs Category">
                    <div class="category-overlay rounded-3"></div>
                    <h3 class="position-absolute bottom-0 start-0 m-3 fw-bold fs-5">
                      Clubs
                    </h3>
                  </div>
                </a>
              </div>

              <!-- Category 2 -->
              <div class="col-sm-6 col-md-3">
                <a href="{% url 'productlist' %}?category=nation" class="text-decoration-none text-white">
                  <div class="aspect-video category-card rounded-3 position-relative">  
                    <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuCfH_b9bnPXKMf8RRvAjTG8Y8uXqoRyys5pCCsBkQaF9cQFGH5Qdfv5uGdzafGFemfR__qHp3hjMtJnTR7myrwoRTfKsp8nt_Nj54tYpKZmjWhFaz-B-pAwSohP0XpZyKS7fWZbdeePwmudWi3KvMbbE78KRSOjm8oRUMmBQitfPc6FuaVJOmiTfxm6ew_Z0OnOHIq0eRkgBWqpzAgYjzAIkuvwr_DqVnvErHvob8tTz01uCEgwjIm6CoJRMT6zmAL5WIQLop1ICk1P"
         class="category-bg"
         alt="National Teams Category">
                    <div class="category-overlay rounded-3"></div>
                    <h3 class="position-absolute bottom-0 start-0 m-3 fw-bold fs-5">
                      National Teams
                    </h3>
                  </div>
                </a>
              </div>

              <!-- Category 3 -->
              <div class="col-sm-6 col-md-3">
                <a href="{% url 'productlist' %}?category=80s" class="text-decoration-none text-white">
                  <div class="aspect-video category-card rounded-3 position-relative"> 
                    <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuClwlF_7FnO1rl8CK0vhKq5AZGTinWv3yzOog7KFwH8VnafN_91kbxTlG_25dghD2R0fgOIMfSt0ZfBNxiQB8TyBj-JkwUKhL7IIVWS6oBh8BjSEAZRRsu_yhzb7wHyQTqrvdYxeRj2ySL5cQogwCGkEnOihVMzSowIWwUbajzcdqF1ZNvqVnaH31_KQqDJgjZLEu_6xR6kQQ-3znQzXJJhDUv693Hyi_r4Y9L3850WkU2zpac7UV8L1sc-g8rjYblSx3iibi0z5Lap"
         class="category-bg"
         alt="Vintage Eras Category">
                    <div class="category-overlay rounded-3"></div>
                    <h3 class="position-absolute bottom-0 start-0 m-3 fw-bold fs-5">
                      Vintage Eras
                    </h3>
                  </div>
                </a>
              </div>
            </div>
          </section>

          <!-- FEATURED BRANDS -->
          <section class="container my-5">
            <h2 class="h5 fw-bold text-muted mb-4">Featured Brands</h2>
            <div class="row g-4 align-items-center">
              <div class="col brand-col">
              <img
                class="col-md-3 col-sm-6 brand-logo"
                src="https://lh3.googleusercontent.com/aida-public/AB6AXuDgZcV2R_Uv1TxAaWx_qcEJb5oIH7PpivSOj7_z3wxrxliMarvRVANRGQ5MbXBFkU0P3_7QdYWYqiJxgqe1-50Xq8TrVNjZMkWyTnXl8dsZ3W1Jw2GlTFbRkHaytWBDJZEz62pBjaV-viC31DOf6e48JxnQWbf84rfGuJIq0W6vrK80vJlUhve5Fsl_Car9k0hwwtf7NBtJrPbi77i5SXXv56mTmTWfU19inzTVFWGMCQUqPTBnhyiiQe6g07HYaFZQOJnXehXdthLO"
                alt="Adidas logo"
              />
              </div>
              <div class="col brand-col">
              <img
                class="col-md-3 col-sm-6 brand-logo"
                src="https://lh3.googleusercontent.com/aida-public/AB6AXuD3O038vc_fRJC6C-mvVcbgwHZpJp_5Yb5s4ICblQILaOR-C9Z2LlHs8x2jGpAJWBfh7ylq9hVv2a1c1z1MnSXMJB1vndCSiE0YU_FoCT8H0WxHUM7pTIH_fy9zKuHbQIjHYtql4pc_PmKT2mLZKIhHi-oTGSlApX81DuyhAcj1ZahgwI2wHKVsS-rMykQCaOe9LsylR_ICo99ziGjfcIVgvhsp6uGsaqySxIgGlYKJrXDiwAJhQcEXr9jZiRsCYemR6gWRBlsnt3QG"
                alt="Nike logo"
              />
              </div>
              <div class="col brand-col">
              <img
                class="col-md-3 col-sm-6 brand-logo"
                src="https://lh3.googleusercontent.com/aida-public/AB6AXuAFT6EcKrBX17CyKDOvmA1lvvXFCtPsBQlVSyM6yLYJBnATXmfy4AgvHw-VmDGDjj63PaWHeppVoD5V2qr6a_ZGEuRNfkSH2BWvw0HJYAiqq0pAuvDmDAOAjPQjPzCD3j1mndn0pkMmiD_KZkOdXHEmF_eYV8yWZRjiFfu-7_3mcKM4Jf1sMQ3D-e_AtIanTUIyvyw2RkzJYEBvaZhKWHBMQPL_64OR56Rrrs5bqs1Bi7HFqshzUBrXpfp7bM4kYxmVBNarCqpTXleW"
                alt="Puma logo"
              />
              </div>
              <div class="col brand-col">
              <img
                class="col-md-3 col-sm-6 brand-logo"
                src="https://lh3.googleusercontent.com/aida-public/AB6AXuBiRHJQ-oI51o5jwU4HiLoSCSCshMLY8LqHWXPy9N2J1jC85VUFpEoJ5V1JufXsk0JMwNZOpvKpQFSZwMdPk0DkgGx5o1mUhr5qKjIXO-WArC_zIV8YpLfzeWpSIIrLSXR1dgdsPVP_5bCjkrozI7OyrOzoihhbRbw8RRtB7b5Byv-UFf0nj5pHMzJoVX-Q-CNyGxXE_sO8hhqQj0iDvrHdrLP9YpuNOVsWfVpP6MkCevPr7GkdI_tnEACqGJPCF72UmKV7l6aGep-1"
                alt="Umbro logo"
              /> 
              </div> 
              <div class="col brand-col">
              <img
                class="col-md-3 col-sm-6 brand-logo"
                src="https://lh3.googleusercontent.com/aida-public/AB6AXuDj7xA2xGvWSA3kYy6h_F4vYJqt1ShGoZlYUHRtAZd6N2JVZXCvGIzsbqh6Ptn6EHa_86p0rtQG_P5TUeDMD6zmE9XPELXuauuzcJY0ACZ1JpCOMAwLCbU612Sejqqb81AZM5Saw6CoJIGf2tCcSwDunH40dPdwOnvFMlRl_nfPTkaK1Ad0NS_8Qk5EqUk-z33z8DL2b7q3vn84F2e5yiKtCPEvbWncaPNEvdn8oW5jcQ7kYsZfamG1M-d63DXVLkCcUEVf4b73gXup"
                alt="Kappa logo"
              /> 
              </div>
            </div>
          </section>

          <!-- COMMUNITY LOVE -->
          <section class="container my-5">
            <h2 class="h5 fw-bold mb-4 text-muted">Community Love</h2>
            <div class="row g-4 justify-content-center mx-auto" style="max-width: 900px;">
              <!-- Review 1 -->
              <div class="col-sm-6 col-md-3">
                <div class="card card-dark h-100 p-4 text-start">
                  <div class="d-flex align-items-center mb-3">
                    <img
                      src="https://lh3.googleusercontent.com/aida-public/AB6AXuDhwIJpBs4x0MzGTsg1Gqk55FcEPOWUrp1cgQbmRx7Kg5U2tQjuFkDH5S7hUAn_nJ-sa-L-MkS771j94nPvispmw8QvLUvsoAPJWK82drPD_UBCjM0dMwFqbcS0xf9paEtuGsxqAKozxS98j4DGrQPIHe7-CzSw3IOUhl7VqBRGHjKzohOKQe-dTrM0Oh3zTOFCC2c07aj8G6FQizyBmtMXLyvGqThwjRWAga69yaAYm7MrjQacHWWXfBm0ODRNMAOL3JwjfYirydTT"
                      class="avatar me-3"
                      alt="Alex Johnson"
                    />
                    <div>
                      <p class="fw-bold mb-1">Alex Johnson</p>
                      <div class="d-flex text-primary">
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                      </div>
                    </div>
                  </div>
                  <p class="small text-muted-green mb-0">
                    "Absolutely love the quality. The '88 Netherlands jersey is a
                    masterpiece. Fast shipping and great service!"
                  </p>
                </div>
              </div>

              <!-- Review 2 -->
              <div class="col-sm-6 col-md-3">
                <div class="card card-dark h-100 p-4 text-start">
                  <div class="d-flex align-items-center mb-3">
                    <img
                      src="https://lh3.googleusercontent.com/aida-public/AB6AXuB8QxtMXtNyjpqQTkwjWgOZROh_cB90k0t1XK5EXIqYl7dwy9m6H1jv5BZKykTShqUoNXbHPEbK6trjmMxtpYy4DbkC-CuiayuboU_3Rp4C7aOC81pS4bT0RFG3IoV5oCAc_5yN_5l92rYpzTRZiiOawwhkoeUCXhbtVpZZC9iasiDtoKDbMMr5z-7a3N0HNLX3DVLcskk-FGj2Ftt9yiYbPzjRBpRh_HJUP82vNu5oFA1jPCsmBE01VXVJSZibGsXBp6QXMr4f1BP8"
                      class="avatar me-3"
                      alt="Maria Garcia"
                    />
                    <div>
                      <p class="fw-bold mb-1">Maria Garcia</p>
                      <div class="d-flex text-primary">
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                      </div>
                    </div>
                  </div>
                  <p class="small text-muted-green mb-0">
                    "Found the exact AC Milan jersey I was looking for. The condition is
                    pristine. Highly recommend this store to any collector."
                  </p>
                </div>
              </div>

              <!-- Review 3 -->
              <div class="col-sm-6 col-md-3">
                <div class="card card-dark h-100 p-4 text-start">
                  <div class="d-flex align-items-center mb-3">
                    <img
                      src="https://lh3.googleusercontent.com/aida-public/AB6AXuCVQ04uSwZVBU-56o7GK57CK0YTZwNwd3DtCI-xLsb7iER1iMLhj856GwT-w4wsQzMYmRMTmPJU47_WDywF8Fw1BgNcZLizuJyRDptS0rCfkpy3bNESVjlTLb0RFeD0fE4gimZrmAh3-Hx9TTh_KwSWNMRn94xUGMomTwN0NYdr84VAAXrjmFzHHk71FEWdVevfL_gwXgskRXdx3w8b0tSsFb2rnoHfTd5axgb3Jlg-WxOh-k3BEoRdfjULwyitZfSbgHmtpWVG2Rr3"
                      class="avatar me-3"
                      alt="David Smith"
                    />
                    <div>
                      <p class="fw-bold mb-1">David Smith</p>
                      <div class="d-flex text-primary">
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star</span>
                        <span class="material-symbols-outlined" style="font-size: 16px;">star_half</span>
                      </div>
                    </div>
                  </div>
                  <p class="small text-muted-green mb-0">
                    "Incredible selection of classic kits. My go-to place for football
                    nostalgia. The website is clean and easy to use."
                  </p>
                </div>
              </div>
            </div>
          </section>

        </main>

{% endblock %}       
{% block extra_js %}
<script>
  fetch(url, {
  headers: { "X-Requested-With": "XMLHttpRequest" }
})
.then(res => res.json())
.then(data => {
  if (data.status === "success") {
    showToast(data.message);
  }
  else if (data.status === "login_required") {
    window.location.href = data.login_url;
  }
  else {
    showToast(data.message || "Server error");
  }
})
.catch(() => {
  showToast("Server error, try again");
});

</script>
{% endblock %}