{% extends 'user/profile_base.html' %}
{% block profile_content %}
    
    <h4 class="m-0 w-100 text-center fw-bold">My Wallet</h4>

<main class="container py-4">

    <!-- Balance Card -->
    <div class="card text-center shadow-sm mb-4 p-4 bg-light">
        <p class="text-muted mb-1">Your available store credit</p>
        <h1 class="fw-bold display-4">â‚¹ {{balance}}</h1>
    </div>

    <!-- Buttons -->
    <div class="d-grid gap-3 mb-4">
        <button class="btn btn-light text-dark fw-bold py-3">Add Money / Recharge Wallet</button>
        <button class="btn btn-light fw-bold py-3">Redeem Coupon / Gift Card</button>
    </div>

    <!-- Transaction History -->
    <h4 class="fw-bold mb-3">Transaction History</h4>

    <!-- Filters -->
    <div class="d-flex gap-2 mb-4 flex-nowrap">
        <button class="btn primary text-dark rounded-pill fw-bold px-4 py-2">All</button>
        <button class="btn btn-light rounded-pill fw-bold px-4 py-2">Credits</button>
        <button class="btn btn-light rounded-pill fw-bold px-4 py-2">Debits</button>
        <button class="btn btn-light rounded-pill fw-bold px-4 py-2">Promotions</button>
        <button class="btn btn-light rounded-pill fw-bold px-4 py-2">Refunds</button>
    </div>

    <!-- Search Bar -->
    <div class="position-relative mb-5">
        <span class="material-symbols-outlined position-absolute top-50 translate-middle-y ms-3 text-muted">search</span>
        <input type="text" class="form-control ps-5 py-3" placeholder="Search in history">
    </div> 
    {%if transactions%}
    {%for tx in transactions%}
    <div class="card mb-2 p-3">
        <div class="d-flex justify-content-between">
            <strong>{{tx.label}}</strong>
            <span>Rs. {{tx.amount}}</span>
        </div>
        <small class="text-muted">{{tx.date}}</small>
    </div>
    {%endfor%}
    {%else%}

    <!-- Empty State -->
    <div class="text-center py-5">
        <div class="d-flex justify-content-center mb-3">
            <div class="rounded-circle bg-light d-flex justify-content-center align-items-center" style="width: 90px; height: 90px;">
                <span class="material-symbols-outlined fs-1">sports_soccer</span>
            </div>
        </div>

        <h5 class="fw-bold">Your wallet is empty</h5>
        <p class="text-muted">Add money to start shopping faster.</p>
    </div>
    {%endif%}

    <!-- How Wallet Works -->
    <div class="card p-4 bg-light mt-5">
        <h5 class="fw-bold mb-3">How Wallet Works</h5>
        <ul class="list-unstyled">
            <li class="d-flex mb-2">
                <span class="material-symbols-outlined primary-text me-3">check_circle</span>
                <span>Use your wallet balance for instant checkout.</span>
            </li>
            <li class="d-flex mb-2">
                <span class="material-symbols-outlined primary-text me-3">add_card</span>
                <span>Add money to your wallet anytime.</span>
            </li>
            <li class="d-flex mb-2">
                <span class="material-symbols-outlined primary-text me-3">lock</span>
                <span>Your store credit is safe & secure.</span>
            </li>
        </ul>
    </div>

</main>

{% endblock %}